@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_ListLayout.cshtml";
}
@section head{ 
}
@section search{
  <table class="SearchTable layui-form">  
        <tr class="Trbgc_Top">
            <th>
                <label class="control-label">
                    登录名：
                </label>
            </th>
            <td>
                <input type="text" class="layui-input" name="LOGON_NAME" id="LOGON_NAME" placeholder="请输入登录名">
            </td> 
            <th>
                <label class="control-label">
                    联系电话 ：
                </label>
            </th>
            <td>
                <input type="text" class="layui-input" name="MOBILE" id="MOBILE" placeholder="请输入联系电话">
            </td> 
            <th>
                <label class="control-label">
                    性别 ：
                </label>
            </th>
            <td>
                <select class="layui-input" name="SEX">
                    <option value="">请选择</option>
                    <option value="1">男</option>
                    <option value="2">女</option>
                </select>
            </td> 
        </tr>  
    </table> 
}
<table id="grid">
    <thead>
        <tr>
            @*<th data-options="field:'LAST_NAME',width:35,align:'center',sortable:true">
                姓
            </th>
            <th data-options="field:'FIRST_NAME',width:60,align:'center',sortable:true">
                名
            </th>*@  
            <th data-options="field:'LOGON_NAME',width:100,align:'center',sortable:true">
                登录名
            </th>
            <th data-options="field:'SEX',width:100,align:'center',sortable:true,formatter:FSex">
                性别
            </th>
            <th data-options="field:'SYSCONTENT1',width:100,align:'center',sortable:true">
                岗位
            </th>
            <th data-options="field:'MOBILE',width:100,align:'center',sortable:true">
                联系电话
            </th>
            <th data-options="field:'CREATE_TIME',width:200,align:'center',sortable:true,formatter:formatterDate">
                录入时间
            </th> 
            <th data-options="field:'AGE',width:50,align:'center',sortable:true">
                年龄
            </th>  
            <th data-options="field:'BIRTHADDR',width:300,align:'center',sortable:true">
                家庭住址
            </th>
            <th data-options="field:'REGADDR',width:150,align:'center',sortable:true">
                户口所在地
            </th>
            <th data-options="field:'SCHOOL',width:150,align:'center',sortable:true">
                毕业院校
            </th>
            <th data-options="field:'PROFESSION',width:150,align:'center',sortable:true">
                专业
            </th>
            <th data-options="field:'GRADUATETIME',width:100,align:'center',sortable:true">
                毕业时间
            </th>
            <th data-options="field:'CARDID',width:150,align:'center',sortable:true">
                身份证
            </th>  
            <th data-options="field:'EmergencyTel',width:100,align:'center',sortable:true">
                紧急联系电话
            </th> 
            
        </tr>
    </thead>
</table>
<script>

    var params = {
        /*fitColumns: true,*/
        frozenColumns: [[
            { field: 'ck', checkbox: true, width: 60, align: 'center' },
            { field: 'GUID', align: 'center', width: 55, formatter: formatterID, title: '功能' }, 
        ]],
        sortName: "CREATE_TIME",
        sortOrder: "desc",
    };
     
    //function formatterID(value, row, index) {
    //    if (!value) return "";
    //    var resultHtml = "";

    //    var editHtml = "<a href=\"javascript:openEditPage('" + value + "')\" class='oper edit rights-link' data-rights='EDIT' title='编辑'><i class='fa fa-pencil-square-o'></i></a>";
    //    var deleteHtml = "<a href=\"javascript:del('" + value + "')\" class='oper delete rights-link' data-rights='DELETE' title='删除'><i class='fa fa-trash-o'></i></a>";
         
    //    if (window.actionNames && actionNames !== null) {
    //        if (actionNames.toLowerCase().indexOf(",edit,") < 0) {
    //            editHtml = "<a href=\"javascript:\" class='oper edit rights-link disabled' data-rights='EDIT' title='编辑'><i class='fa fa-pencil-square-o'></i></a>"
    //        }
    //        if (actionNames.toLowerCase().indexOf(",delete,") < 0) {
    //            deleteHtml = "<a href=\"javascript:\" class='oper delete rights-link disabled' data-rights='DELETE' title='删除'><i class='fa fa-trash-o'></i></a>";
    //        }
    //    }
    //    resultHtml = editHtml + deleteHtml

    //    return resultHtml

    //}
    function FSex(value)
    {
        if(value=="1")
            return "男"
        else
            return "女"
    }

    function formatterDate(value, row) {
        if (!value) return "";
        value = value.replace("T", " ").replace(/\..*/g, "").replace(/-/g, "/");
        var date = new Date(value);
        return date.Format("yyyy-MM-dd hh:mm");
    }

    Date.prototype.Format = function (fmt) { //author: meizz
        var o = {
            "M+": this.getMonth() + 1, //月份
            "d+": this.getDate(), //日
            "h+": this.getHours(), //小时
            "m+": this.getMinutes(), //分
            "s+": this.getSeconds(), //秒
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
            "S": this.getMilliseconds() //毫秒
        };
        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    }

</script>
